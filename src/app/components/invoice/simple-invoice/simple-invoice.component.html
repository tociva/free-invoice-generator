<div class="step-container">
  <!-- Header -->
  <div class="step-header">
  <button mat-icon-button (click)="goPrevious()" [disabled]="stepIndex === 0" class="nav-btn">
    <mat-icon>arrow_back</mat-icon>
  </button>

  <div class="step-title">
    {{ stepIndex + 1 }}. {{ getStepLabel(stepIndex) }}
  </div>

  <button mat-icon-button (click)="goNext()" [disabled]="stepIndex === 2" class="nav-btn">
    <mat-icon>arrow_forward</mat-icon>
  </button>
</div>


  <!-- Step Card -->
  <div class="step-card">
    <ng-container [ngSwitch]="stepIndex">
      <!-- Step 1 -->
      <ng-container *ngSwitchCase="0">
        <div class="step-box-wrapper">
          <!-- Organization + Customer -->
          <div class="side-by-side-row">
            <app-invoice-organization [simple]="true" class="one-third-box"></app-invoice-organization>
            <app-invoice-customer [simple]="true" class="two-third-box"></app-invoice-customer>
          </div>

          <!-- Invoice Details -->
          <app-invoice-details [simple]="true" class="invoice-details-box"></app-invoice-details>

          <!-- Items (no scroll) -->
          <div class="full-width-box no-scroll">
            <app-invoice-items [simple]="true"></app-invoice-items>
          </div>

          <!-- Summary + Amount in Words -->
          <div class="side-by-side-row">
            <app-invoice-summary class="two-third-box"></app-invoice-summary>
          </div>
          <app-invoice-amount-words class="amount-word-box"></app-invoice-amount-words>

          <!-- Logo -->
          <app-invoice-logo [hideLargeLogo]="true" class="logo-box"></app-invoice-logo>
        </div>
      </ng-container>

      <!-- Step 2 -->
      <ng-container *ngSwitchCase="1">
        <div class="step-box-wrapper">
          <app-select-template [stepper]="stepper"></app-select-template>
        </div>
      </ng-container>

      <!-- Step 3 -->
      <ng-container *ngSwitchCase="2">
        <div class="step-box-wrapper">
          <app-preview-invoice></app-preview-invoice>
        </div>
      </ng-container>
    </ng-container>

    <!-- Navigation -->
    <div class="step-actions">
      <button mat-button class="back-btn" (click)="goPrevious()" [disabled]="stepIndex === 0">
        <mat-icon>arrow_back</mat-icon> Back
      </button>
      <button
        mat-raised-button
        class="primary-btn"
        (click)="stepIndex === 2 ? onFinishClick() : goNext()"
      >
        {{ stepIndex === 2 ? 'Finish' : 'Next' }}
        <mat-icon>{{ stepIndex === 2 ? 'check_circle' : 'arrow_forward' }}</mat-icon>
      </button>
    </div>
  </div>
</div>
